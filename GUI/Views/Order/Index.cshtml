<!DOCTYPE html>
<html lang="en">
@{
        Layout = "_Layout";
}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đơn hàng - FastFood</title>
    <link rel="stylesheet" href="~/css/style.css">
</head>
<body>
    <body class="page-orders">
        <div id="header"></div>

        <main class="section orders-section">
            <h2 class="section-title">Đơn hàng của bạn</h2>

            <!-- Thanh lọc trạng thái -->
            <div class="orders-filter-top">
                <button class="filter-btn active">Tất cả</button>
                <button class="filter-btn">Đang xử lý</button>
                <button class="filter-btn">Đang giao</button>
                <button class="filter-btn">Đã giao</button>
            </div>

            <!-- Danh sách đơn hàng -->
            <div id="ordersList" class="orders-grid">
                <div class="order-card">
                    <span class="order-badge Processing">Processing</span>
                    <h3>Đơn hàng #001</h3>
                    <p>Ngày đặt: 2025-10-01</p>
                </div>

                <div class="order-card">
                    <span class="order-badge Delivering">Delivering</span>
                    <h3>Đơn hàng #002</h3>
                    <p>Ngày đặt: 2025-09-30</p>
                </div>

                <div class="order-card">
                    <span class="order-badge Done">Done</span>
                    <h3>Đơn hàng #003</h3>
                    <p>Ngày đặt: 2025-09-28</p>
                </div>

                <div class="order-card">
                    <span class="order-badge Done">Done</span>
                    <h3>Đơn hàng #004</h3>
                    <p>Ngày đặt: 2025-09-27</p>
                </div>

                <div class="order-card">
                    <span class="order-badge Done">Done</span>
                    <h3>Đơn hàng #005</h3>
                    <p>Ngày đặt: 2024-10-27</p>
                </div>

                <div class="order-card">
                    <span class="order-badge Done">Done</span>
                    <h3>Đơn hàng #006</h3>
                    <p>Ngày đặt: 2024-09-26</p>
                </div>
            </div>
        </main>

        <div id="footer"></div>
    </body>


    <script src=/js/script.js"></script>
    <script>
        async function loadOrders() {
          const res = await fetch("http://localhost:5000/api/orders", {
            headers: { "Authorization": "Bearer " + localStorage.getItem("token") }
          });
          const orders = await res.json();
          const container = document.getElementById("ordersList");
          container.innerHTML = orders.map(o => `
            <div class="order-card">
              <h3>Đơn hàng #${o.id}</h3>
              <p>Ngày đặt: ${o.date}</p>
              <p>Trạng thái: ${o.status}</p>
            </div>
          `).join("");
        }
        loadOrders();
    </script>
</body>
</html>
